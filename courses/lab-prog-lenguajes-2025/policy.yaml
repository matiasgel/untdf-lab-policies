# Política del curso Laboratorio de Programación y Lenguajes — UNTDF 2025
# Tercer año — Casos prácticos aplicando Python, HTML, Django con OOP
# Aplica conocimientos de años previos en proyectos reales
# Esta política extiende y sobrescribe la política organizacional

version: "1.0.0"

# Telemetría específica para este curso
telemetry:
  level: full  # Telemetría completa para análisis pedagógico
  retentionDays: 180  # 6 meses para análisis de cohorte
  excludePatterns:
    - "**/.env"
    - "**/.env.*"
    - "**/secrets.yaml"
    - "**/venv/**"
    - "**/__pycache__/**"

# Umbrales ajustados para curso de 3er año (Python + Django + HTML)
thresholds:
  coverage: 80  # Alta cobertura requerida (énfasis en testing de vistas y ORM)
  duplicacion: 4  # Baja tolerancia a duplicación (aplicar DRY en clases y métodos)
  lintErrorsPerKLOC: 2  # Código muy limpio (3er año)
  securityFindings:
    critical: 0
    high: 0  # Sin hallazgos críticos ni altos (Django security patterns)

# Pesos ajustados: énfasis en calidad y arquitectura OOP
weights:
  proceso: 0.15      # Commits, PRs, CI/CD
  calidad: 0.65      # Lint, coverage, arquitectura OOP, seguridad Django
  razonamiento: 0.20 # Quiz sobre diseño OOP, patterns Django y casos prácticos

# Analizadores específicos para Python/Django/HTML
analyzers:
  python:
    enabled: true
    tools:
      - flake8
      - pylint    # Análisis profundo: clases, métodos, cohesión
      - black     # Formateo consistente
      - isort     # Ordenamiento de imports
      - bandit    # Seguridad (OWASP patterns)
      - radon     # Complejidad ciclomática de métodos
      - mypy      # Type hints en métodos y clases
    timeout: 400

  javascript:
    enabled: false  # No se usa JavaScript en este curso

  html:
    enabled: true
    tools:
      - htmlhint
      - w3c-validator
    timeout: 120

# Quiz enfocado en arquitectura OOP y Django
quiz:
  enabled: true
  questionsCount: 5  # Preguntas sobre: clases, herencia, ORM models, class-based views, templates, seguridad
  dueMinutes: 10
  assigneeMode: INDIVIDUAL_STUDENTS

# Overrides para asignaciones específicas
overrides:
  tp1-fundamentos-python:
    thresholds:
      coverage: 70     # Más permisivo en primera tarea
      lintErrorsPerKLOC: 5
      duplicacion: 8
    quiz:
      questionsCount: 4  # Quiz inicial más corto
      dueMinutes: 8

  tp2-django-orm-models:
    thresholds:
      coverage: 85     # Cobertura muy alta para models y ORM
      duplicacion: 3   # Models y queries deben ser DRY
    weights:
      proceso: 0.10
      calidad: 0.70    # Más peso en calidad del ORM
      razonamiento: 0.20
    quiz:
      questionsCount: 6  # Más preguntas sobre queries complejas
      dueMinutes: 12

  tp3-class-based-views-django:
    thresholds:
      coverage: 85     # Alta cobertura de views (CBV)
      duplicacion: 3   # CBV reutilizables con mixins, no duplicar lógica
      lintErrorsPerKLOC: 1  # Código muy limpio
    quiz:
      questionsCount: 6  # Preguntas sobre CBV, mixins, herencia de views
      dueMinutes: 12

  tp4-templates-html-seguridad:
    thresholds:
      coverage: 75     # Coverage de templates (más difícil)
      duplicacion: 5   # Templates pueden tener cierta repetición (includes/partials)
      securityFindings:
        critical: 0
        high: 0  # Seguridad estricta (XSS, CSRF, SQL injection)
    weights:
      proceso: 0.15
      calidad: 0.70
      razonamiento: 0.15
    quiz:
      questionsCount: 5  # Preguntas sobre seguridad Django
      dueMinutes: 10
